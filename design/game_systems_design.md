# Game Systems Design — Deterministic Engine with AI-Driven Context

This document defines a deterministic, tick-based simulation where numbers are reproducible but the context is natural language generated by AI and then validated into bounded, deterministic modifiers. It also specifies a player-to-people communication system that lets leaders speak to their populations and stakeholders.

## Core Principles
- Deterministic ticks: fixed step (e.g., 250–500ms) with seeded PRNG per session and per subsystem.
- Single-writer loop: one authoritative engine updates state; clients receive deltas via WebSocket.
- AI-as-context: AI generates text (policies, news, speeches, diplomacy) which is parsed and clamped into safe numeric modifiers (zod schemas). Identical inputs → identical outputs.
- CRDT-friendly deltas: client views merge safely; server is source of truth.

## World Model
- Hierarchy: Galaxy → Regions/Systems → Entities (corporations, facilities, routes, fleets) → Resources (alloy, fuel, etc.).
- Components: Ownership, Inventory, Production, Routes, Contracts, Finance (P&L), Fleet, Morale, Readiness, OpinionCohorts.
- Snapshots: periodic state snapshots with hash for drift detection; delta log for replay.

## Authoritative Tick Order
1) AI context ingestion (policies/news/speeches/events → validated modifiers)
2) Policy/governance update (laws/taxes/budgets/limits)
3) Economy update (supply/consumption, price curves)
4) Trade/Logistics (routes, tariffs, contracts settlement)
5) Corporations (P&L, dividends, cap table updates)
6) Military (logistics, readiness, engagements)
7) KPIs/Analytics (indices, utilization, volatility)

## AI-Driven Context Layers (Natural Language → Deterministic Modifiers)
Each layer takes NL input, parses to a canonical JSON payload, validates with zod, clamps to caps, and emits a deterministic modifier vector. Example caps (partial):
- production_rate_mult ∈ [0.8, 1.2]
- research_rate_mult ∈ [0.8, 1.3]
- tax_rate ∈ [0, 0.25]
- tariff_add ∈ [−0.10, 0.35]
- unrest_add ∈ [0, 0.2]
- risk_add ∈ [0, 0.3]

### Policies/Laws/Taxes
- AI drafts descriptive policy text; parser extracts modifiers; conflicts resolved by priority rules and caps.
- Deterministic mapping: canonicalization + hashing ties to seed streams.

### News & Narrative Events
- NL news tied to observed metric deltas (price spikes, route outages). Validator maps to event payloads (region/resource/magnitude/duration) under caps.

### Population Opinions & Internal Politics
- OpinionCohorts: workers, investors, scientists, military, civil service, frontier settlers.
- NL summaries explain shifts; validator yields unrest_add, turnout_shifts, faction_strength under caps.
- Elections and cabinet changes constrained by a constitution/state machine.

### External Politics & Diplomacy
- NL stances: sanctions, alliance, trade pact, embargo, mutual defense. Validator maps to tariffs/risk/route access modifiers with cooldowns.

### Natural Events (Seeded)
- NL description of disasters or booms; seeded generator sets intensity, area, duration deterministically within caps.

### Technology/Innovation/Expertise
- NL proposals for R&D programs; validator adjusts research_rate_mult, production_efficiency, logistics_efficiency, cyber_resilience. Expertise per corp/region shifts achievable caps (more experienced → slightly higher ceilings).

## Player-to-People Communications (Speeches)
Allow leaders to address their population/stakeholders. The speech text is AI-assisted (optional) and is parsed into effects with strong safety/determinism:
- Input: NL speech (goal, audience, tone). Optional AI draft + player edits.
- Parsing: extract intents (assurances, calls-to-action, policy framing) and evidence (metrics/achievements).
- Validation to modifiers (caps):
  - opinion_shift_[cohort] ∈ [−0.05, +0.05]
  - compliance_rate_mult ∈ [0.95, 1.05]
  - spending_acceptance_mult ∈ [0.95, 1.05]
  - mobilization_readiness_add ∈ [0, 0.05] (if speech targets military readiness)
- Diminishing returns: repeated similar speeches apply reduced effect (deterministic decay by audience memory window).
- Backfire risk: if claims contradict reality (KPIs), negative shifts apply within safe caps (e.g., trust −0.02).
- Determinism: canonicalize speech text (strip stopwords/normalize) → hash → seed substream for tie-breaking; identical speech and state → identical modifiers.
- APIs:
  - POST /comms/speech { audience, text, goals } → { parsedModifiers, applied, decayFactor }
  - GET /opinions { byCohort }

## Government Types, Cabinet, and Media Systems
- Government archetypes (deterministic state machine with legal transitions):
  - Democracy, Technocracy, Corporate State, Constitutional Monarchy, Federation, Autocracy.
  - Each archetype defines powers, cabinet size/roles, appointment/removal rules, media freedom baseline, and policy cap bands.
- Cabinet model:
  - Roles: PM/President, Economy, Interior, Defense, Science, Energy, Foreign Affairs, Communications.
  - Member attributes: expertise, integrity, popularity, faction ties; all deterministic and influence caps/decays.
  - Actions (bounded, deterministic): appoint, fire, reshuffle, vote of confidence (if allowed by archetype).
  - Effects (caps):
    - expertise_bonus_[domain] ∈ [0, 0.06]
    - scandal_risk_add ∈ [0, 0.04]
    - stability_add ∈ [−0.03, +0.03]
    - faction_alignment_shift ∈ [−0.05, +0.05]
- Media & information operations:
  - Slider per region: press_freedom ∈ [0,1], state_media_influence ∈ [0,1] with conservation constraints.
  - Policy “media control” yields:
    - opinion_shift_max_cap scales with press_freedom (freer press → lower short-term cap, higher long-term trust).
    - censorship_backfire_prob ∈ [0, 0.15] increases when claims contradict KPIs.
  - NL press briefings are parsed to bounded effects similar to speeches but mediated by press_freedom and international_reputation modifiers.

### Press Conferences (Reporter Q&A)
- Flow:
  1) Start conference → register accredited reporter agents (media personas) → queue questions
  2) Reporters ask questions (seeded persona styles); leader/cabinet answer in NL
  3) Validator maps exchange to bounded effects mediated by press_freedom and outlet credibility
- Bounded outputs (examples):
  - messaging_clarity_add ∈ [0, 0.05]
  - accountability_trust_add ∈ [−0.02, +0.03] (depends on answer–KPI consistency)
  - international_reputation_add ∈ [−0.02, +0.03]
  - leak_backfire_prob_add ∈ [0, 0.02] when evasive under low freedom
- Determinism:
  - Canonicalize Q&A transcript and participant roster → hash → seeded substreams; identical exchange + state → identical effects
- APIs & WS:
  - POST /gov/press/conference/start | /end
  - POST /gov/press/question { outletId, text } → { queued }
  - POST /gov/press/answer { questionId, text } → { parsedModifiers, applied }
  - GET /gov/press/transcript/:id
  - WS press.conference.live (queue, speaker indicators)

### Legislative Bodies (Unicameral/Bicameral)
- Structures: unicameral or bicameral (Lower/Upper) with chamber rules captured in a deterministic state machine
- Bill pipeline (deterministic, replayable): draft → committee → floor → (conference) → final → executive sign/veto → optional override
- Voting mechanics (bounded):
  - quorum_met ∈ {true,false}; simple_majority/qualified_majority thresholds; whip_strength ∈ [0,1]
  - veto_override_threshold ∈ {2/3, 3/5, custom}
- Effects are mediated via policy validators, not by votes directly:
  - policy_enactment_prob ∈ [0,1] (used to schedule enactment tick deterministically)
  - enactment_delay_ms ∈ [0, 120000]
  - budget_constraint_add ∈ [−0.05, +0.05]
- Seats and factions:
  - seat_shares per faction; faction_discipline ∈ [0.6, 0.98] influences vote variance within caps
  - elections on fixed cadence; redistricting optional (seeded); coalition formation deterministic given seat vector
- Determinism:
  - Canonicalize bill text + snapshot hash → seed substream; identical text+state → identical outcome envelope
- APIs:
  - POST /gov/legislature/bill { text, chamber, sponsors } → { billId, stage }
  - POST /gov/legislature/vote { billId, chamber } → { result, thresholds, quorum }
  - POST /gov/legislature/advance { billId } → { stage, delays }

### Cabinet Meetings (Voice) — AI-Assisted, Deterministic Effects
- Flow:
  1) Voice meeting session (Stage/Fireteam infrastructure) → speech-to-text transcript (local-first or selectable provider).
  2) AI generates a meeting summary and action proposals in NL.
  3) Validator maps to bounded modifiers by domain; duplicates/overlaps decay deterministically.
- Deterministic constraints:
  - Canonicalize transcript (redact PII; normalize) → hash → seed substream.
  - Identical transcript + state → identical modifier vector.
- Example bounded outputs:
  - coordination_efficiency_mult ∈ [0.98, 1.05]
  - crisis_response_readiness_add ∈ [0, 0.04]
  - policy_alignment_add ∈ [0, 0.05]
  - media_messaging_coherence_add ∈ [0, 0.05]
- Leakage & privacy:
  - If press_freedom low and media_control high, leaks risk backfire: trust_drop ∈ [0, 0.03] if contradictions exist.
- APIs & WS:
  - POST /gov/cabinet/meeting { audioRefs|segments } → { transcriptHash, parsedModifiers, applied }
  - WS gov.cabinet.meeting for live roster/speaking-indicators (reuse Stage infra).

### Cabinet HR Actions
- Fire/appoint/reshuffle (subject to government rules) with deterministic, capped second-order effects:
  - short_term_stability_add ∈ [−0.04, +0.02]
  - faction_reaction_shift ∈ [−0.05, +0.05]
  - expertise_delta_[domain] ∈ [−0.06, +0.06]
- NL rationale is stored and canonicalized for audit; numbers remain bounded and reproducible.

## Economy
- Price per (region, resource): base × f(supply, demand, tariffs, risk, capacity, policy modifiers).
- Supply: facility output, import flows; Demand: facility inputs + consumer baskets.
- Caching: hot (per tick) for quotes; cold (hour/day) for analytics.
- KPIs: price index, throughput, utilization, volatility, shock recovery.

### Monetary Policy & Central Bank
- Policy instruments (bounded, deterministic application):
  - policy_rate ∈ [0.00, 0.20] (annualized), reserve_requirement ∈ [0.00, 0.20]
  - qe_qt_scale ∈ [−1.0, +1.0] (− QT, + QE) with ramp rates
  - inflation_target ∈ [0.00, 0.05], credibility ∈ [0,1] modulates transmission (bounded)
- Transmission channels:
  - credit_cost_add ∈ [−0.10, +0.10], investment_rate_mult ∈ [0.9, 1.1]
  - currency_strength_index ∈ [0.8, 1.2] (interacts with FX below)
- Determinism: central bank decisions are NL rationale → structured decision → capped vector → hashed link to snapshot
- API:
  - POST /economy/monetary-policy { rate, qe_qt, reserves } → { applied, transmission }

### Currencies & FX
- Multi‑currency ledger with base currency; currency modes: free‑float, managed float, peg
- FX quotes: fx_rate[c1→c2] derived deterministically from supply/demand/rates/credibility within caps
- Peg enforcement applies intervention_budget ∈ [0, 1] that caps daily drift and costs reserves
- Trade and pricing integrate FX conversion with tariff/tax calculations
- KPIs & analytics:
  - cpi_index, inflation_rate, fx_index_{major,basket}
- APIs:
  - GET /economy/fx?base=...&quote=...
  - GET /analytics/inflation, GET /analytics/fx

## Trade & Markets
- Phase 1: prices + routes + tariffs + spot/offtake contracts; deterministic tick settlement.
- Phase 2: regional exchanges (order books, limit/market orders, fee model, partial fills) with deterministic matching.
- Routes: capacity and risk; utilization feeds prices and corp P&L.

### Logistics & Transport (Land/Sea/Space)
- Modes: land (roads/rails), sea (ports/shipping lanes), space (orbital transfer, interplanetary lanes)
- Shipments: origin→hub→destination with transshipment, capacity queues, transit time, reliability
- Deterministic routing: shortest‑time under capacity; tie‑break seeded by snapshot hash
- Bounded effects:
  - transport_capacity_add ∈ [−0.2, +0.3]
  - transit_time_mult ∈ [0.8, 1.3]
  - spoilage_loss_add ∈ [0, 0.05]
- Integration: routes/exchanges settle considering in‑flight inventory and ETAs
- APIs:
  - POST /logistics/shipment { mode, o, d, qty, commodity } → { eta, queued }
  - GET /logistics/status?scope=region|planet|lane

### Faster‑Than‑Light (FTL) Travel & Jump Network
- Modes: jump drive (point‑to‑point within range), warp lanes (pre‑charted corridors), wormholes (rare/unstable)
- Deterministic topology: jump graph seeded per campaign; identical seed → identical lanes/nodes
- Bounded effects:
  - ftl_travel_time_mult ∈ [0.2, 1.0]
  - lane_capacity_add ∈ [0, 0.5]
  - jump_instability_risk ∈ [0, 0.08]
- Integration: logistics space mode uses jump graph; congestion/instability adjust ETA and capacity under caps
- APIs:
  - GET /logistics/ftl/map → jump graph (nodes/edges, capacities, risks)
  - POST /logistics/ftl/route { o, d, prefs } → { path, eta, risks }

## Corporations
- Registry, facilities, route rights. Share ledger (issuance/transfers), dividends.
- P&L each tick: revenues (sales/contracts) − costs (inputs/logistics/fees) − taxes.
- AI board commentary is NL only; actions translate to bounded ops (hire, restructure, invest) under caps.

## Military (Modular, Phaseable)
- Fleets: composition, readiness, logistics (fuel, upkeep), doctrine.
- Engagement resolution: initiative → maneuver → damage → morale (seeded RNG only).
- Strategic effects: region control changes tariffs, capacity, route risk bands.

## Live Ops
- Stage Mode: roster, approvals, WS events; policies can scope to Stage sessions.
- Fireteams: sub-groups with action batching; voice indicators.
- Anomalies: weekly mutators with safe activation/teardown; NL descriptions → bounded rule toggles.
- Recap Cards: session analysis → seed code → deterministic reconstruction + AI text.

## Determinism Strategy
- PRNG: splitmix/xorshift; root seed per session; sub-seeds per subsystem/task.
- AI outputs never directly set RNG; they only provide NL → bounded modifiers.
- Canonicalization pipeline: normalize text → extract structured claims → validate/cap → hash for seed linkage.

## Validation & Safety
- Zod schemas for all AI-derived payloads.
- Deny-list + invariant checks (e.g., negative taxes beyond cap; unlimited growth).
- Audit log: input text, structured payload, caps applied, final vector, tick id.

## APIs & Events (MVP Slice)
- REST: /economy/prices, /trade/contracts, /routes, /corps, /policies, /advisors, /comms/speech,
  /gov/legislature/{bill,vote,advance}, /economy/monetary-policy, /economy/fx,
  /gov/press/{conference/start,end,question,answer,transcript}.
- WS topics: economy.ticker, trade.contracts, routes.utilization, corp.pnl, military.sitrep, liveops.stage, opinions.cohorts.

## Player Profile & Reign Summary
- Persist per-leader “reign summary” computed from snapshots: tenure_days, crises_resolved, GDPΔ, inflation_avg, approval_avg, wars_won, treaties_signed, reforms_passed
- Deterministic computation: pure functions of audited snapshots and event logs
- Surfaces:
  - Profile page section with NL narrative + KPIs
  - Leaderboards: per-campaign and global (opt‑in) ranks for selected composite score (weighted, deterministic formula)
- APIs:
  - GET /profile/:leaderId/reign-summary
  - GET /leaderboards/reign
- AuthN/Z + per-endpoint rate limits; OFFLINE disables outbound AI calls.

## Testing & Targets
- Unit: price fn, contract engine, route utilization, P&L, fleet steps, speech parser caps/decay/backfire.
- API: CRUD + workflows; auth/rate limit; negative cases.
- E2E: HUD, trade, policies, stage, speech demo.
- Load: 50 concurrent users; WS fanout p95 < 300ms; GM summary p50 < 4.5s.
- Cost telemetry: tokens/API calls/compute; dashboards + alerts.

## Roadmap (Phased)
1) Phase A: core sim + policies/advisors + speech MVP (caps, decay, backfire).
2) Phase C1: routes/tariffs/contracts + corp P&L + trade UI.
3) Phase C2: exchanges + portfolio + corp sheet UI.
4) Live Ops: stage/fireteams/anomalies/recap integrated.
5) Military: fleets, sitrep, strategic effects.

## Voice / Natural Language UX (Extended)
- Multi-speaker diarization and speaker embeddings for cabinet/populace sessions
- Real-time STT with VAD, barge-in, and turn-taking; optional hotword: "Prime Minister"
- Live NL commands: "call emergency cabinet", "draft a two-minute address", "summarize last quarter P&L"
- TTS personas (advisors, anchors, opposition) with configurable tone/language

## AI Multi‑Agent World
- NPC agents (media outlets, opposition, lobbies, think tanks, foreign leaders) with goals and tool-use
- Negotiation/treaty DSL: NL → structured commitments with enforcement/penalties
- Rumor/propaganda network: source credibility, echo chambers, fact-check cycles

### Diegetic AI Personas (Advisors, Opposition, Journalists)
- Persistent persona memory and style per domain role (economy, defense, science, communications)
- Bounded by constitutional powers and press freedom; outputs are NL only and map to capped modifiers via validators
- Deterministic seeding links persona outputs to state/snapshot hash to ensure replayability

### Synthetic Population Micro‑Cohorts
- Population represented as micro‑cohorts (embeddings: beliefs, trust, needs), collapsed to deterministic aggregates per tick
- Opinion diffusion respects network structure, media reach, and credibility decay; validated caps prevent runaway effects
- Zoomable summaries ("city hall" briefings) provide NL explanations alongside numeric cohort shifts

### Narrative Director & Seasons (AI Writer’s Room)
- Periodic "season pitch": proposes arcs (crisis/reform/rivalry) with guardrailed acceptance flow
- Each accepted arc ships: prereqs, KPI targets, failure rails, rollback plan, and deterministic budget of events
- Director never sets numbers directly; it schedules NL events which the validator clamps into bounded modifiers

### Explainable Diplomacy
- Real‑time translation + sentiment mirroring + trust contracts (deterministic reputation deltas)
- Counterfactual previews (what‑if concession X?) render numeric projections with causal chain diffs
- Treaty DSL integrates with reconciliation and snapshot tooling for auditable outcomes

### Diplomats & Foreign Service
- Entities: embassies, envoys, special representatives; attributes: seniority, credibility, languages, portfolio
- Actions (NL → validators → bounded modifiers): parley, protest, concession, CBMs, sanction notices, alliance signaling
- Bounded outputs:
  - reputation_delta ∈ [−0.05, +0.05]
  - deescalation_prob_add ∈ [0, 0.15]
  - treaty_progress_add ∈ [0, 0.15]
- Determinism: envoy style seeded from snapshot hash + persona id; identical briefs produce identical envelopes
- APIs: POST /diplomacy/brief, POST /diplomacy/action, GET /diplomacy/{treaties,stance}

### Diegetic Media Fabric
- Auto‑generated radio/podcast/newspaper front pages that summarize world state with persona voices (TTS adapters)
- Media output credibility tied to press_freedom and past accuracy; leaks/backfire modify trust within caps
- Outputs are strictly narrative; any systemic impact flows through validated, capped media effects

### Policy Drafting Copilot & Constitutional Court
- Copilot: NL → bill text → fiscal note → bounded modifier proposal with caps/decay
- AI Constitutional Court: NL review against archetype’s constitutional constraints, emitting deterministic accept/reject + rationale
- Deterministic hashing of proposal text + state ensures reproducible outcomes

### Adaptive Score & Soundscape
- Generative soundtrack themes react to KPIs (tension, prosperity, unrest) within fixed melodic/tempo constraints
- Deterministic: soundtrack state is a function of KPI snapshots; no RNG coupling to simulation outcomes

### Sandbox Time Machine & Branching
- Branch snapshots at decision points; parallel what‑ifs run deterministically from shared seeds
- Diffed narratives and cost deltas; best branch can be promoted back with reconciliation guards

### Privacy‑First Memory Diary (Opt‑In)
- Per‑player encrypted diary for continuity in speeches/promises/cabinet culture
- Explicit consent gates access; diary influences only NL suggestions, not numeric caps directly
- Full audit trail: when accessed, why, and how suggestions were bounded

## Government / Politics Depth
- Constitutional state machines per archetype (veto, no-confidence, referenda)
- Cabinet personalities: integrity/ambition affecting leaks, coordination, scandal risk
- Polling + cohort micro-opinions; filter-bubble media reach vs press freedom

### Succession & Continuity Policies
- Archetype rules define succession (monarchy: heir lines; democracy: elections/term; empires: conquest annexation)
- Game Setup options:
  - On Deposed/Conquered/Term‑Expired: [Game Over | Continue in Hero Mode | New Nation/Successor State | Successor Leader (same nation) | Observer]
  - AI interim governance allowed (Y/N)
- Deterministic outcomes: state machine with legal transitions; identical inputs → identical successor
- Effects:
  - stability_shock_add ∈ [−0.05, 0]
  - policy_inertia_mult ∈ [0.9, 1.05]
- APIs: GET /gov/succession/options, POST /gov/succession/apply

### Comeback & Restoration (Hero Influence)
- States: exile → resistance → coalition → election/coup/motion → restoration
- Hero tasks (encounters) create bounded, deterministic support deltas: fundraising, alliances, exposes, relief ops
- Preconditions per archetype:
  - democracy: election window open, threshold signatures, debate access
  - monarchy: regency instability, noble support, succession dispute resolution
  - empire/autocracy: defections, military loyalty, international pressure
- Bounded effects:
  - popular_support_add ∈ [0, 0.10]
  - elite_support_add ∈ [0, 0.10]
  - legitimacy_mult ∈ [0.95, 1.10]
- Determinism: each hero action → canonical payload → capped vector; identical sequence/state → same restoration outcome
- APIs: POST /gov/restoration/hero-action, GET /gov/restoration/status

## Economy / Trade Realism
- Input–output (Leontief) tables for industries; elasticities per resource
- Shock models (logistics, climate, cyber) with recovery tails; policy counterfactuals
- Exchange microstructure (fees, latency, partial fills) and market impact for large orders

### Entrepreneurs & Private Innovation
- Agents: founders, firms, venture funds; events: startup formed, patent filed, product launch, exit
- Private R&D creates bounded, deterministic contributions to research_rate_mult and adoption_rate via validators
- Diffusion: adoption propagates through networks; effects capped and explainable
- KPIs: startup_count, private_RnD_spend, patents, adoption_index
- APIs: POST /innovation/startup, POST /innovation/patent, GET /innovation/kpis

### Macroeconomy: GDP & National Budget
- GDP Accounting (expenditure approach): GDP = C + I + G + (X − M)
  - C (Household/Population consumption) derived from cohort income/needs baskets
  - I (Private investment) from corporate capex and startup formation
  - G (Government spending) from budget allocations (military, social, education, health, infrastructure, R&D, administration)
  - X − M (Net exports) from trade balance across resources/goods
- Determinism: GDP computed from audited snapshots (no stochastic components); identical state → identical GDP
- National Budget & Spending
  - Categories: military, social, education, health, infrastructure, R&D, admin
  - Allocations produce bounded, deterministic modifiers into subsystems (e.g., readiness, morale, research_rate, logistics_capacity)
  - Caps and diminishing returns enforce realism; deficits/surpluses tracked;
  - Budget constraints may be hard (balanced) or soft (deficit) depending on policy/archetype
- KPIs & Analytics: gdp_total, gdp_growth, deficit_pct, category_shares, tax_revenue, debt_service
- APIs:
  - POST /budget { allocations } → { applied, caps }
  - GET /budget → { allocations, revenue, deficit }
  - GET /analytics/gdp → { C,I,G,NX, total, growth }

### Lobbying & Influence
- Actors: corporate lobbies, NGOs; budgets and disclosures; interactions with policy console and legislature
- Effects are validator‑capped and transparent; backfire risk on misleading claims
- Bounded outputs:
  - agenda_priority_bias ∈ [−0.1, +0.1]
  - committee_scheduling_bias ∈ [−0.1, +0.1]
  - public_trust_delta ∈ [−0.03, +0.02] (disclosure/credibility mediated)
- Determinism: canonicalize filings/meetings → hash → seeded outcomes; identical inputs → identical envelopes
- APIs: POST /lobby/register, POST /lobby/contribute, GET /lobby/disclosures

### Hero Actions: Exploration & National Quests
- Exploration (Galaxy/Regional)
  - Actions: survey system, scan anomaly, map route, first contact brief
  - Bounded, deterministic effects feed economy/diplomacy/logistics (e.g., new route discovered → transport_capacity_add; anomaly resolved → risk_add↓)
  - Determinism: exploration input → canonical payload → seeded outcome envelope; identical sequence/state → same map reveals
  - APIs: POST /hero/explore { sector|system, action }, GET /hero/map
- National Quests (Military/Economic)
  - Military: repel incursion, secure supply line, disaster relief, anti‑piracy patrol
  - Economic: stabilize prices, restore port, industrial upgrade, research milestone
  - Each quest: objective DSL, preconditions, bounded reward vector (readiness, logistics_capacity, research_rate_mult, trust)
  - APIs: GET /quests, POST /quests/accept, POST /quests/complete { evidence }
- Integration
  - Restoration: completed hero quests add capped support deltas for Comeback state machine
  - Logistics: exploration unlocks lanes; quests can reduce transit_time_mult or increase capacity under caps
  - Explainability: quest/exploration outcomes appear in causal chains

### Ancient Artifacts (Exploration Discoveries)
- Distribution: seeded placement in ruins/anomalies; identical seed/state → identical artifact set
- Tiers: minor relics, major artifacts, world wonders
- Activation constraints: require research milestones and stabilizers; failure risks are bounded
- Bounded effects:
  - production_efficiency_add ∈ [0, 0.08]
  - logistics_efficiency_add ∈ [0, 0.07]
  - stability_add ∈ [−0.02, +0.03]
- Safety: artifact effects pass validators; narrative flavor only beyond capped vectors
- Inventory & KPIs: artifact_catalog, activated_count, artifact_power_index
- APIs:
  - POST /artifacts/discover { location, evidence } → { catalogEntry }
  - POST /artifacts/activate { artifactId } → { appliedModifiers, riskReport }
  - GET /artifacts
## Technology / Innovation
- NL "research proposals" → validated programs; knowledge diffusion, patent races, espionage risk
- Expertise ladders per org; spillovers and brain drain events

### Technology Tree (Human History → Fictional Futures)
- Graph: directed acyclic graph (DAG) of technologies with one‑or‑more prerequisites unlocking new nodes
- Tracks: Human History (stone→bronze→iron→industrial→electrical→digital→space→fusion), Social/Political (institutions, governance, economics), Military (doctrine, materiel), Logistics (infrastructure, FTL), Science (materials, energy, biology), Fictional (FTL drives, field manipulation, AI singular constructs, artifact synthesis)
- Unlock rules (deterministic): all prereqs met → eligible; costs/time bounded; global modifiers from education/R&D; policy may gate certain branches
- Effects are bounded vectors (caps), often shifting ceilings on other systems rather than raw numbers
- Determinism: tech tree topology and costs seeded by campaign; identical seed/state → identical availability and times
- APIs:
  - GET /tech/tree → nodes, edges, states (locked, eligible, researching, unlocked)
  - POST /tech/research { nodeId } → { eta, costs, caps }
  - GET /tech/state → progress, modifiers, audit

## Determinism + Safety (Operational Details)
- Canonicalize all NL (normalize/strip/segment) → hash → seeded substreams for effects
- Strict zod caps; decay/backfire for repetitive or deceptive messaging
- Content/safety pass (RAG‑grounded checks) before applying modifiers

## Explainability
- "Why did X change?" causal chain with NL narrative + numeric contributions
- Timeline of decisions with seed IDs and rebalance sims (e.g., "what‑if we didn’t raise tariffs")

## Voice Meeting Realism
- Agenda extraction; action-items with owners/deadlines; follow-up reminders
- Sentiment/tone gauges per speaker; cohesion score → coordination_efficiency

## Accessibility / Internationalization
- Multilingual STT/TTS and translation; captions; accent‑robust ASR

## Ops / Cost Controls
- On-device/edge ASR for dev; cascade models (small→large); summarization layers to cap tokens

## Concrete Next Steps (MVP Increments)
- Add `/comms/speech` and `/gov/cabinet/meeting` with STT adapter interface and diarization stub (done in demo)
- Implement "Why did price move?" endpoint with causal breakdown
- Introduce media outlet agents and press briefings (NL → bounded effects) with leak/backfire logic
