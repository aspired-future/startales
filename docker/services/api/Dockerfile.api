FROM node:20-alpine

WORKDIR /app

# Install curl for health checks
RUN apk add --no-cache curl

# Copy demo API server
COPY ../demo-api-server.cjs ./demo-api-server.cjs

# Install dependencies for WebSocket support
RUN npm init -y && npm install express cors ws

EXPOSE 4000

CMD ["node", "demo-api-server.cjs"]
