# Microservices Environment Configuration
# Copy this file to .env and fill in your values

# Security
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Database
POSTGRES_PASSWORD=secure-postgres-password-change-this
CLICKHOUSE_PASSWORD=secure-clickhouse-password-change-this

# Object Storage (MinIO)
MINIO_ACCESS_KEY=startales-minio-access-key
MINIO_SECRET_KEY=secure-minio-secret-key-change-this

# AI Provider API Keys
OPENAI_API_KEY=sk-your-openai-api-key-here
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
PERPLEXITY_API_KEY=pplx-your-perplexity-api-key-here

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# Monitoring
GRAFANA_PASSWORD=secure-grafana-password-change-this

# Scaling Configuration
MAX_PLAYERS_PER_SERVER=10000
SIMULATION_INSTANCES=10
REALTIME_GATEWAY_INSTANCES=5
PROVIDER_ADAPTER_INSTANCES=5

# Performance Tuning
REDIS_MAX_MEMORY=2gb
POSTGRES_MAX_CONNECTIONS=200
NATS_MAX_MEMORY=1GB
NATS_MAX_FILE_STORE=10GB

# Feature Flags
ENABLE_DISTRIBUTED_TRACING=true
ENABLE_METRICS_COLLECTION=true
ENABLE_LOG_AGGREGATION=true
ENABLE_HEALTH_CHECKS=true

# Development/Debug
DEBUG_MODE=false
LOG_LEVEL=info
ENABLE_CORS=true
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_BURST_LIMIT=100

# Circuit Breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60000
CIRCUIT_BREAKER_MONITORING_PERIOD=10000

# Cache Configuration
CACHE_TTL_SECONDS=3600
CACHE_MAX_SIZE_MB=1024
ENABLE_DISTRIBUTED_CACHE=true

# WebSocket Configuration
WS_MAX_CONNECTIONS=10000
WS_HEARTBEAT_INTERVAL=30000
WS_CONNECTION_TIMEOUT=60000
WS_MAX_MESSAGE_SIZE=1048576

# Provider Configuration
PROVIDER_TIMEOUT_MS=30000
PROVIDER_MAX_RETRIES=3
PROVIDER_RETRY_DELAY_MS=1000
PROVIDER_MAX_CONCURRENT_REQUESTS=100

# Simulation Configuration
SIMULATION_TICK_RATE=1000
SIMULATION_MAX_ENTITIES=50000
SIMULATION_BATCH_SIZE=1000
SIMULATION_WORKER_THREADS=4

# Analytics Configuration
ANALYTICS_BATCH_SIZE=1000
ANALYTICS_FLUSH_INTERVAL=5000
ANALYTICS_RETENTION_DAYS=90

# Content Configuration
CONTENT_MAX_FILE_SIZE=100MB
CONTENT_ALLOWED_TYPES=image/jpeg,image/png,image/webp,audio/mpeg,audio/wav,video/mp4
CONTENT_CDN_ENABLED=true

# Security Configuration
ENABLE_RATE_LIMITING=true
ENABLE_DDOS_PROTECTION=true
ENABLE_REQUEST_VALIDATION=true
ENABLE_RESPONSE_COMPRESSION=true
ENABLE_SECURITY_HEADERS=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=startales-backups

# Monitoring Thresholds
CPU_ALERT_THRESHOLD=80
MEMORY_ALERT_THRESHOLD=85
DISK_ALERT_THRESHOLD=90
RESPONSE_TIME_ALERT_MS=5000
ERROR_RATE_ALERT_PERCENT=5

# Auto-scaling Configuration
ENABLE_AUTO_SCALING=true
SCALE_UP_CPU_THRESHOLD=70
SCALE_DOWN_CPU_THRESHOLD=30
SCALE_UP_MEMORY_THRESHOLD=80
SCALE_DOWN_MEMORY_THRESHOLD=40
MIN_REPLICAS=1
MAX_REPLICAS=20

# Load Balancer Configuration
LB_ALGORITHM=round_robin
LB_HEALTH_CHECK_INTERVAL=30
LB_HEALTH_CHECK_TIMEOUT=10
LB_HEALTH_CHECK_RETRIES=3

# Service Discovery
CONSUL_DATACENTER=dc1
CONSUL_ENCRYPT_KEY=your-consul-encryption-key-here
CONSUL_ACL_TOKEN=your-consul-acl-token-here

# TLS/SSL Configuration
ENABLE_TLS=true
TLS_CERT_PATH=/etc/ssl/certs/startales.crt
TLS_KEY_PATH=/etc/ssl/private/startales.key
TLS_CA_PATH=/etc/ssl/certs/ca.crt

# Regional Configuration
REGION=us-east-1
AVAILABILITY_ZONE=us-east-1a
DATA_CENTER=primary

# Compliance and Privacy
ENABLE_GDPR_COMPLIANCE=true
ENABLE_DATA_ENCRYPTION=true
ENABLE_AUDIT_LOGGING=true
DATA_RETENTION_DAYS=365
PII_ANONYMIZATION=true
